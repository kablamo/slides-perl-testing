<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.20
Devel::Cover is copyright 2001-2012, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: local/lib/perl5/Test/Most.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">local/lib/perl5/Test/Most.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">47.2%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">package Test::Most;</td></tr>
<tr><td class="h">2</td><td colspan="6"></td></tr><tr><td class="h">3</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L3">6</a></div></td><td><div>17</div><div>4</div><div>105</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">4</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L4">6</a></div></td><td><div>14</div><div>5</div><div>96</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">5</td><td colspan="6"></td></tr><tr><td class="h">6</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L6">6</a></div></td><td><div>885</div><div>6</div><div>198</div></td><td class="s">use Test::Most::Exception &#39;throw_failure&#39;;</td></tr>
<tr><td class="h">7</td><td colspan="6"></td></tr><tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td class="s"># XXX don&#39;t use &#39;base&#39; as it can override signal handlers</td></tr>
<tr><td class="h">9</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L9">6</a></div></td><td><div>768</div><div>27414</div><div>17</div></td><td class="s">use Test::Builder::Module;</td></tr>
<tr><td class="h">10</td><td></td><td></td><td></td><td></td><td></td><td class="s">our ( @ISA, @EXPORT, $DATA_DUMPER_NAMES_INSTALLED );</td></tr>
<tr><td class="h">11</td><td></td><td></td><td></td><td></td><td></td><td class="s">my $HAVE_TIME_HIRES;</td></tr>
<tr><td class="h">12</td><td colspan="6"></td></tr><tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">14</td><td colspan="6"></td></tr><tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# There&#39;s some strange fiddling around with import(), so this allows us to</td></tr>
<tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# be nicely backwards compatible to earlier versions of Test::More.</td></tr>
<tr><td class="h">17</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L17">6</a></div></td><td><div>1635</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;require Test::More;</td></tr>
<tr><td class="h">18</td><td><div class="c3">6</div><div class="c3">168</div></td><td></td><td></td><td></td><td><div>12163</div><div>104</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@Test::More::EXPORT = grep { $_ ne &#39;explain&#39; } @Test::More::EXPORT;</td></tr>
<tr><td class="h">19</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;Test::More-&gt;import;</td></tr>
<tr><td class="h">20</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L20">6</a></div></td><td><div>851</div><div>1713</div><div>3758</div><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;eval &quot;use Time::HiRes&quot;;</td></tr>
<tr><td class="h">21</td><td><div class="c3">6</div></td><td><div class="c0" title="T/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L21">50</a></div></td><td></td><td></td><td><div>361</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$HAVE_TIME_HIRES = 1 unless $@;</td></tr>
<tr><td class="h">22</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">23</td><td colspan="6"></td></tr><tr><td class="h">24</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L24">6</a></div></td><td><div>16</div><div>5</div><div>96</div></td><td class="s">use Test::Builder;</td></tr>
<tr><td class="h">25</td><td></td><td></td><td></td><td></td><td></td><td class="s">my $OK_FUNC;</td></tr>
<tr><td class="h">26</td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">27</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L27">6</a></div></td><td><div>465</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$OK_FUNC = \&amp;Test::Builder::ok;</td></tr>
<tr><td class="h">28</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">29</td><td colspan="6"></td></tr><tr><td class="h">30 - 38</td><td colspan="5"></td><td class="s"><pre>=head1 NAME

Test::Most - Most commonly needed test functions and features.

=head1 VERSION

Version 0.33

=cut</pre></td></tr>
<tr><td class="h">39</td><td colspan="6"></td></tr><tr><td class="h">40</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;0.33&#39;;</td></tr>
<tr><td class="h">41</td><td></td><td></td><td></td><td></td><td></td><td class="s">$VERSION = eval $VERSION;</td></tr>
<tr><td class="h">42</td><td colspan="6"></td></tr><tr><td class="h">43 - 437</td><td colspan="5"></td><td class="s"><pre>=head1 SYNOPSIS

Instead of this:

&nbsp;&nbsp;&nbsp;&nbsp;use strict;
&nbsp;&nbsp;&nbsp;&nbsp;use warnings;
&nbsp;&nbsp;&nbsp;&nbsp;use Test::Exception 0.88;
&nbsp;&nbsp;&nbsp;&nbsp;use Test::Differences 0.500;
&nbsp;&nbsp;&nbsp;&nbsp;use Test::Deep 0.106;
&nbsp;&nbsp;&nbsp;&nbsp;use Test::Warn 0.11;
&nbsp;&nbsp;&nbsp;&nbsp;use Test::More tests =&gt; 42;

You type this:

&nbsp;&nbsp;&nbsp;&nbsp;use Test::Most tests =&gt; 42;

=head1 DESCRIPTION

L&lt;Test::Most&gt; exists to reduce boilerplate and to make your testing life
easier.&nbsp;&nbsp;We provide &quot;one stop shopping&quot; for most commonly used testing
modules.&nbsp;&nbsp;In fact, we often require the latest versions so that you get bug
fixes through L&lt;Test::Most&gt; and don&#39;t have to keep upgrading these modules
separately.

This module provides you with the most commonly used testing functions, along
with automatically turning on strict and warning and gives you a bit more
fine-grained control over your test suite.

&nbsp;&nbsp;&nbsp;&nbsp;use Test::Most tests =&gt; 4, &#39;die&#39;;

&nbsp;&nbsp;&nbsp;&nbsp;ok 1, &#39;Normal calls to ok() should succeed&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;is 2, 2, &#39;... as should all passing tests&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;eq_or_diff [3], [4], &#39;... but failing tests should die&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;ok 4, &#39;... will never get to here&#39;;

As you can see, the C&lt;eq_or_diff&gt; test will fail.&nbsp;&nbsp;Because &#39;die&#39; is in the
import list, the test program will halt at that point.

If you do not want strict and warnings enabled, you must explicitly disable
them.&nbsp;&nbsp;Thus, you must be explicit about what you want and no longer need to
worry about accidentally forgetting them.

&nbsp;&nbsp;&nbsp;&nbsp;use Test::Most tests =&gt; 4;
&nbsp;&nbsp;&nbsp;&nbsp;no strict;
&nbsp;&nbsp;&nbsp;&nbsp;no warnings;

=head1 EXPORT

All functions from the following modules will automatically be exported into
your namespace:

=over 4

=item * L&lt;Test::More&gt;

=item * L&lt;Test::Exception&gt;

=item * L&lt;Test::Differences&gt;

=item * L&lt;Test::Deep&gt; 

=item * L&lt;Test::Warn&gt;

=back

Functions which are I&lt;optionally&gt; exported from any of those modules must be
referred to by their fully-qualified name:

&nbsp;&nbsp;Test::Deep::render_stack( $var, $stack );

=head1 FUNCTIONS

Several other functions are also automatically exported:

=head2 C&lt;die_on_fail&gt;

 die_on_fail;
 is_deeply $foo, bar, &#39;... we throw an exception if this fails&#39;;

This function, if called, will cause the test program to throw a
L&lt;Test::Most::Exception&gt;, effectively halting the test.

=head2 C&lt;bail_on_fail&gt;

 bail_on_fail;
 is_deeply $foo, bar, &#39;... we bail out if this fails&#39;;

This function, if called, will cause the test suite to BAIL_OUT() if any
tests fail after it.

=head2 C&lt;restore_fail&gt;

 die_on_fail;
 is_deeply $foo, bar, &#39;... we throw an exception if this fails&#39;;

 restore_fail;
 cmp_bag(\@got, \@bag, &#39;... we will not throw an exception if this fails&#39;;

This restores the original test failure behavior, so subsequent tests will no
longer throw an exception or BAIL_OUT().

=head2 C&lt;set_failure_handler&gt;

If you prefer other behavior to &#39;die_on_fail&#39; or &#39;bail_on_fail&#39;, you can
set your own failure handler:

 set_failure_handler( sub {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $builder = shift;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $builder &amp;&amp; $builder-&gt;{Test_Results}[-1] =~ /critical/ ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send_admin_email(&quot;critical failure in tests&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
 } );

It receives the C&lt;&lt; Test::Builder &gt;&gt; instance as its only argument.&nbsp;&nbsp;

B&lt;Important&gt;:&nbsp;&nbsp;Note that if the failing test is the very last test run, then
the C&lt;$builder&gt; will likely be undefined.&nbsp;&nbsp;This is an unfortunate side effect
of how C&lt;Test::Builder&gt; has been designed.

=head2 C&lt;explain&gt;

Similar to C&lt;note()&gt;, the output will only be seen by the user by
using the C&lt;-v&gt; switch with C&lt;prove&gt; or reading the raw TAP.

Unlike C&lt;note()&gt;, any reference in the argument list is automatically expanded
using C&lt;Data::Dumper&gt;.&nbsp;&nbsp;Thus, instead of this:

 my $self = Some::Object-&gt;new($id);
 use Data::Dumper;
 explain &#39;I was just created&#39;, Dumper($self);

You can now just do this:

 my $self = Some::Object-&gt;new($id);
 explain &#39;I was just created:&nbsp;&nbsp;&#39;, $self;

That output will look similar to:

 I was just created: bless( {
&nbsp;&nbsp;&nbsp;&#39;id&#39; =&gt; 2,
&nbsp;&nbsp;&nbsp;&#39;stack&#39; =&gt; []
 }, &#39;Some::Object&#39; )

Note that the &quot;dumpered&quot; output has the C&lt;Data::Dumper&gt; variables
C&lt;$Indent&gt;, C&lt;Sortkeys&gt; and C&lt;Terse&gt; all set to the value of C&lt;1&gt; (one).&nbsp;&nbsp;This
allows for a much cleaner diagnostic output and at the present time cannot be
overridden.

Note that Test::More&#39;s C&lt;explain&gt; acts differently.&nbsp;&nbsp;This C&lt;explain&gt;
is equivalent to C&lt;note explain&gt; in Test::More.

=head2 C&lt;show&gt;

Experimental.&nbsp;&nbsp;Just like C&lt;explain&gt;, but also tries to show you the lexical
variable names:

 my $var&nbsp;&nbsp;&nbsp;= 3;
 my @array = qw/ foo bar /;
 show $var, \@array;
 __END__
 $var = 3;
 @array = [
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;foo&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;bar&#39;
 ];

It will show C&lt;$VAR1&gt;, C&lt;$VAR2&gt; ... C&lt;$VAR_N&gt; for every variable it cannot
figure out the variable name to:

 my @array = qw/ foo bar /;
 show @array;
 __END__
 $VAR1 = &#39;foo&#39;;
 $VAR2 = &#39;bar&#39;;

Note that this relies on L&lt;Data::Dumper::Names&gt; version 0.03 or greater.&nbsp;&nbsp;If
this is not present, it will warn and call L&lt;explain&gt; instead.&nbsp;&nbsp;Also, it can
only show the names for lexical variables.&nbsp;&nbsp;Globals such as C&lt;%ENV&gt; or C&lt;%@&gt;
are not accessed via PadWalker and thus cannot be shown.&nbsp;&nbsp;It would be nice to
find a workaround for this.

=head2 C&lt;always_explain&gt; and C&lt;always_show&gt;

These are identical to C&lt;explain&gt; and C&lt;show&gt;, but like L&lt;Test::More&gt;&#39;s
C&lt;diag&gt; function, these will always emit output, regardless of whether or not
you&#39;re in verbose mode.

=head2 C&lt;all_done&gt;

B&lt;DEPRECATED&gt;.&nbsp;&nbsp;Use the new C&lt;done_testing()&gt; (added in
L&lt;Test::More|Test::More&gt; since 0.87_01).&nbsp;&nbsp;Instead. We&#39;re leaving this in here
for a long deprecation cycle.&nbsp;&nbsp;After a while, we might even start warning.

If the plan is specified as C&lt;defer_plan&gt;, you may call C&lt;&amp;all_done&gt; at the
end of the test with an optional test number.&nbsp;&nbsp;This lets you set the plan
without knowing the plan before you run the tests.

If you call it without a test number, the tests will still fail if you don&#39;t
get to the end of the test.&nbsp;&nbsp;This is useful if you don&#39;t want to specify a
plan but the tests exit unexpectedly.&nbsp;&nbsp;For example, the following would
I&lt;pass&gt; with C&lt;no_plan&gt; but fails with C&lt;all_done&gt;.

 use Test::More &#39;defer_plan&#39;;
 ok 1;
 exit;
 ok 2;
 all_done;

See L&lt;Deferred plans&gt; for more information.

=head1 EXPORT ON DEMAND

The following will be exported only if requested:

=head2 C&lt;timeit&gt;

Prototype: C&lt;timeit(&amp;;$)&gt;

This function will warn if C&lt;Time::HiRes&gt; is not installed. The test will
still be run, but no timing information will be displayed.

 use Test::Most &#39;timeit&#39;;
 timeit { is expensive_function(), $some_value, $message }
&nbsp;&nbsp;&nbsp;&nbsp;&quot;expensive_function()&quot;;
 timeit { is expensive_function(), $some_value, $message };

C&lt;timeit&gt; accepts a code reference and an optional message. After the test is
run, will C&lt;explain&gt; the time of the function using C&lt;Time::HiRes&gt;. If a
message is supplied, it will be formatted as:

&nbsp;&nbsp;sprintf &quot;$message: took %s seconds&quot; =&gt; $time;

Otherwise, it will be formatted as:

&nbsp;&nbsp;sprintf &quot;$filename line $line: took %s seconds&quot; =&gt; $time;

=head1 DIE OR BAIL ON FAIL

Sometimes you want your test suite to throw an exception or BAIL_OUT() if a
test fails.&nbsp;&nbsp;In order to provide maximum flexibility, there are three ways to
accomplish each of these.

=head2 Import list

 use Test::Most &#39;die&#39;, tests =&gt; 7;
 use Test::Most qw&lt; no_plan bail &gt;;

If C&lt;die&gt; or C&lt;bail&gt; is anywhere in the import list, the test program/suite
will throw a C&lt;Test::Most::Exception&gt; or C&lt;BAIL_OUT()&gt; as appropriate the
first time a test fails.&nbsp;&nbsp;Calling C&lt;restore_fail&gt; anywhere in the test program
will restore the original behavior (not throwing an exception or bailing out).

=head2 Functions

 use Test::Most &#39;no_plan&#39;;
 ok $bar, &#39;The test suite will continue if this passes&#39;;

 die_on_fail;
 is_deeply $foo, bar, &#39;... we throw an exception if this fails&#39;;

 restore_fail;
 ok $baz, &#39;The test suite will continue if this passes&#39;;

The C&lt;die_on_fail&gt; and C&lt;bail_on_fail&gt; functions will automatically set the
desired behavior at runtime.

=head2 Environment variables

 DIE_ON_FAIL=1 prove t/
 BAIL_ON_FAIL=1 prove t/

If the C&lt;DIE_ON_FAIL&gt; or C&lt;BAIL_ON_FAIL&gt; environment variables are true, any
tests which use C&lt;Test::Most&gt; will throw an exception or call BAIL_OUT on test
failure.

=head1 MISCELLANEOUS

=head2 Moose

It used to be that this module would produce a warning when used with Moose:

&nbsp;&nbsp;&nbsp;&nbsp;Prototype mismatch: sub main::blessed ($) vs none

This was because L&lt;Test::Deep&gt; exported a C&lt;blessed()&gt; function by default,
but its prototype did not match the L&lt;Moose&gt; version&#39;s prototype. We now
exclude the L&lt;Test::Deep&gt; version by default. If you need it, you can call the
fully-qualified version or request it on the command line:

&nbsp;&nbsp;&nbsp;&nbsp;use Test::Most &#39;blessed&#39;;

=head2 Excluding Test Modules

Sometimes you want a exclude a particular test module.&nbsp;&nbsp;For example,
L&lt;Test::Deep&gt;, when used with L&lt;Moose&gt;, produces the following warning:

&nbsp;&nbsp;&nbsp;&nbsp;Prototype mismatch: sub main::blessed ($) vs none

You can exclude this with by adding the module to the import list with a &#39;-&#39;
symbol in front:

&nbsp;&nbsp;&nbsp;&nbsp;use Test::Most tests =&gt; 42, &#39;-Test::Deep&#39;;

See
L&lt;https://rt.cpan.org/Ticket/Display.html?id=54362&amp;results=e73ff63c5bf9ba0f796efdba5773cf3f&gt;
for more information.

=head2 Excluding Test Symbols

Sometimes you don&#39;t want to exclude an entire test module, but just a
particular symbol that is causing issues (e.g. see the &#39;blessed&#39; example
above). You can exclude the symbol(s) in the standard way, by specifying the
symbol in the import list with a &#39;!&#39; in front:

&nbsp;&nbsp;&nbsp;&nbsp;use Test::Most tests =&gt; 42, &#39;!blessed&#39;;

=head2 Deferred plans

B&lt;DEPRECATED&gt;.&nbsp;&nbsp;Use C&lt;done_testing()&gt; from L&lt;Test::More&gt; instead.

 use Test::Most qw&lt;defer_plan&gt;;
 use My::Tests;
 my $test_count = My::Tests-&gt;run;
 all_done($test_count);

Sometimes it&#39;s difficult to know the plan up front, but you can calculate the
plan as your tests run.&nbsp;&nbsp;As a result, you want to defer the plan until the end
of the test.&nbsp;&nbsp;Typically, the best you can do is this:

 use Test::More &#39;no_plan&#39;;
 use My::Tests;
 My::Tests-&gt;run;

But when you do that, C&lt;Test::Builder&gt; merely asserts that the number of tests
you I&lt;ran&gt; is the number of tests.&nbsp;&nbsp;Until now, there was no way of asserting
that the number of tests you I&lt;expected&gt; is the number of tests unless you do
so before any tests have run.&nbsp;&nbsp;This fixes that problem.

=head2 One-stop shopping

We generally require the latest stable versions of various test modules.&nbsp;&nbsp;Why?
Because they have bug fixes and new features.&nbsp;&nbsp;You don&#39;t want to have to keep
remembering them, so periodically we&#39;ll release new versions of L&lt;Test::Most&gt;
just for bug fixes.

=head2 C&lt;use ok&gt;

We do not bundle L&lt;Test::use::ok&gt;, though it&#39;s been requested.&nbsp;&nbsp;That&#39;s because
C&lt;use_ok&gt; is broken, but L&lt;Test::use::ok&gt; is also subtly broken (and a touch
harder to fix).&nbsp;&nbsp;See L&lt;http://use.perl.org/~Ovid/journal/39859&gt; for more
information.

If you want to test if you can use a module, just use it.&nbsp;&nbsp;If it fails, the
test will still fail and that&#39;s the desired result.

=head1 RATIONALE

People want more control over their test suites.&nbsp;&nbsp;Sometimes when you see
hundreds of tests failing and whizzing by, you want the test suite to simply
halt on the first failure.&nbsp;&nbsp;This module gives you that control.

As for the reasons for the four test modules chosen, I ran code over a local
copy of the CPAN to find the most commonly used testing modules.&nbsp;&nbsp;Here&#39;s the
top twenty as of January 2010 (the numbers are different because we&#39;re now
counting distributions which use a given module rather than simply the number
of times a module is used).

&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;Test::More&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14111
&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;Test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1736
&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;Test::Exception&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;744
&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;Test::Simple&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;331
&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;Test::Pod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;328
&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;Test::Pod::Coverage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;274
&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;&nbsp;&nbsp;Test::Perl::Critic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;248
&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;Test::Base&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;228
&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;Test::NoWarnings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;155
&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;Test::Distribution&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;142
&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;&nbsp;Test::Kwalitee&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;138
&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;&nbsp;Test::Deep&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128
&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;&nbsp;Test::Warn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;127
&nbsp;&nbsp;&nbsp;&nbsp;14&nbsp;&nbsp;Test::Differences&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;102
&nbsp;&nbsp;&nbsp;&nbsp;15&nbsp;&nbsp;Test::Spelling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101
&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;&nbsp;Test::MockObject&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87
&nbsp;&nbsp;&nbsp;&nbsp;17&nbsp;&nbsp;Test::Builder::Tester&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84
&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;&nbsp;Test::WWW::Mechanize::Catalyst&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79
&nbsp;&nbsp;&nbsp;&nbsp;19&nbsp;&nbsp;Test::UseAllModules&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63
&nbsp;&nbsp;&nbsp;&nbsp;20&nbsp;&nbsp;Test::YAML::Meta&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61

L&lt;Test::Most&gt; is number 24 on that list, if you&#39;re curious.&nbsp;&nbsp;See
L&lt;http://blogs.perl.org/users/ovid/2010/01/most-popular-testing-modules---january-2010.html&gt;.

The modules chosen seemed the best fit for what C&lt;Test::Most&gt; is trying to do.
As of 0.02, we&#39;ve added L&lt;Test::Warn&gt; by request.&nbsp;&nbsp;It&#39;s not in the top ten, but
it&#39;s a great and useful module.

=cut</pre></td></tr>
<tr><td class="h">438</td><td colspan="6"></td></tr><tr><td class="h">439</td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">440</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L440">6</a></div></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@ISA&nbsp;&nbsp;&nbsp;&nbsp;= qw(Test::Builder::Module);</td></tr>
<tr><td class="h">441</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>552</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@EXPORT = (</td></tr>
<tr><td class="h">442</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Test::More::EXPORT, </td></tr>
<tr><td class="h">443</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qw&lt;</td></tr>
<tr><td class="h">444</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all_done</td></tr>
<tr><td class="h">445</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bail_on_fail</td></tr>
<tr><td class="h">446</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die_on_fail</td></tr>
<tr><td class="h">447</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explain</td></tr>
<tr><td class="h">448</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always_explain</td></tr>
<tr><td class="h">449</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_test_failed</td></tr>
<tr><td class="h">450</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;restore_fail</td></tr>
<tr><td class="h">451</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_failure_handler</td></tr>
<tr><td class="h">452</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show</td></tr>
<tr><td class="h">453</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always_show</td></tr>
<tr><td class="h">454</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;</td></tr>
<tr><td class="h">455</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">456</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">457</td><td colspan="6"></td></tr><tr><td class="h">458</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub import {</td></tr>
<tr><td class="h">459</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L459">6</a></div></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $bail_set = 0;</td></tr>
<tr><td class="h">460</td><td colspan="6"></td></tr><tr><td class="h">461</td><td><div class="c3">6</div><div class="c3">24</div></td><td></td><td></td><td></td><td><div>6</div><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %modules_to_load = map { $_ =&gt; 1 } qw/</td></tr>
<tr><td class="h">462</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test::Differences</td></tr>
<tr><td class="h">463</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test::Exception</td></tr>
<tr><td class="h">464</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test::Deep</td></tr>
<tr><td class="h">465</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test::Warn</td></tr>
<tr><td class="h">466</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;/;</td></tr>
<tr><td class="h">467</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;warnings-&gt;import;</td></tr>
<tr><td class="h">468</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;strict-&gt;import;</td></tr>
<tr><td class="h">469</td><td><div class="c3">6</div><div class="c0">0</div><div class="c0">0</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L469">6</a></div></td><td><div>208</div><div>0</div><div>0</div><div>128</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;eval &quot;use Data::Dumper::Names 0.03&quot;;</td></tr>
<tr><td class="h">470</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$DATA_DUMPER_NAMES_INSTALLED = !$@;</td></tr>
<tr><td class="h">471</td><td colspan="6"></td></tr><tr><td class="h">472</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L472">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $ENV{BAIL_ON_FAIL} ) {</td></tr>
<tr><td class="h">473</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bail_set = 1;</td></tr>
<tr><td class="h">474</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bail_on_fail();</td></tr>
<tr><td class="h">475</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">476</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L476">50</a></div></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--condition.html#L476">33</a></div></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( !$bail_set and $ENV{DIE_ON_FAIL} ) {</td></tr>
<tr><td class="h">477</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die_on_fail();</td></tr>
<tr><td class="h">478</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">479</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $i ( 0 .. $#_ ) {</td></tr>
<tr><td class="h">480</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L480">50</a></div></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( &#39;bail&#39; eq $_[$i] ) {</td></tr>
<tr><td class="h">481</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splice @_, $i, 1;</td></tr>
<tr><td class="h">482</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bail_on_fail();</td></tr>
<tr><td class="h">483</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$bail_set = 1;</td></tr>
<tr><td class="h">484</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">485</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">486</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">487</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $caller = caller;</td></tr>
<tr><td class="h">488</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $i ( 0 .. $#_ ) {</td></tr>
<tr><td class="h">489</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L489">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( &#39;timeit&#39; eq $_[$i] ) {</td></tr>
<tr><td class="h">490</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splice @_, $i, 1;</td></tr>
<tr><td class="h">491</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L491">6</a></div></td><td><div>18</div><div>4</div><div>943</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no strict;</td></tr>
<tr><td class="h">492</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{&quot;${caller}::timeit&quot;} = \&amp;timeit;</td></tr>
<tr><td class="h">493</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">494</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">495</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">496</td><td colspan="6"></td></tr><tr><td class="h">497</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %exclude_symbol;</td></tr>
<tr><td class="h">498</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $i = 0;</td></tr>
<tr><td class="h">499</td><td colspan="6"></td></tr><tr><td class="h">500</td><td><div class="c3">6</div><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L500">50</a></div></td><td></td><td></td><td><div>6</div><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( grep { $_ eq &#39;blessed&#39; } @_ ) {</td></tr>
<tr><td class="h">501</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@_ = grep { $_ ne &#39;blessed&#39; } @_;</td></tr>
<tr><td class="h">502</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">503</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">504</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$exclude_symbol{blessed} = 1;</td></tr>
<tr><td class="h">505</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">506</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($i &lt; @_) {</td></tr>
<tr><td class="h">507</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L507">50</a></div></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--condition.html#L507">33</a></div></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( !$bail_set and ( &#39;die&#39; eq $_[$i] ) ) {</td></tr>
<tr><td class="h">508</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splice @_, $i, 1;</td></tr>
<tr><td class="h">509</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die_on_fail();</td></tr>
<tr><td class="h">510</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i = 0;</td></tr>
<tr><td class="h">511</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">512</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">513</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L513">50</a></div></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $_[$i] =~ /^-(.*)/ ) {</td></tr>
<tr><td class="h">514</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $module = $1;</td></tr>
<tr><td class="h">515</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splice @_, $i, 1;</td></tr>
<tr><td class="h">516</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L516">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (exists $modules_to_load{$module}) {</td></tr>
<tr><td class="h">517</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require Carp;</td></tr>
<tr><td class="h">518</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::croak(&quot;Cannot remove non-existent Test::Module ($module)&quot;);</td></tr>
<tr><td class="h">519</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">520</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete $modules_to_load{$module};</td></tr>
<tr><td class="h">521</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i = 0;</td></tr>
<tr><td class="h">522</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">523</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">524</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L524">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $_[$i] =~ /^!(.*)/ ) {</td></tr>
<tr><td class="h">525</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splice @_, $i, 1;</td></tr>
<tr><td class="h">526</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$exclude_symbol{$1} = 1;</td></tr>
<tr><td class="h">527</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i = 0;</td></tr>
<tr><td class="h">528</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">529</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">530</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L530">50</a></div></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( &#39;defer_plan&#39; eq $_[$i] ) {</td></tr>
<tr><td class="h">531</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splice @_, $i, 1;</td></tr>
<tr><td class="h">532</td><td colspan="6"></td></tr><tr><td class="h">533</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $builder = Test::Builder-&gt;new;</td></tr>
<tr><td class="h">534</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{Have_Plan} = 1</td></tr>
<tr><td class="h">535</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; # don&#39;t like setting this directly, but Test::Builder::has_plan doe</td></tr>
<tr><td class="h">536</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{TEST_MOST_deferred_plan} = 1;</td></tr>
<tr><td class="h">537</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{TEST_MOST_all_done}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0;</td></tr>
<tr><td class="h">538</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i = 0;</td></tr>
<tr><td class="h">539</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">540</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">541</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i++;</td></tr>
<tr><td class="h">542</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">543</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $module (keys %modules_to_load) {</td></tr>
<tr><td class="h">544</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div><div class="c3">24</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L544">6</a></div><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L544">6</a></div><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L544">6</a></div><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L544">6</a></div></td><td><div>1184</div><div>7</div><div>170</div><div>999</div><div>5</div><div>249</div><div>1047</div><div>6</div><div>120</div><div>2004</div><div>9</div><div>320</div><div>527</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval &quot;use $module&quot;;</td></tr>
<tr><td class="h">545</td><td colspan="6"></td></tr><tr><td class="h">546</td><td><div class="c3">24</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L546">50</a></div></td><td></td><td></td><td><div>44</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( my $error = $@) {</td></tr>
<tr><td class="h">547</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require Carp;</td></tr>
<tr><td class="h">548</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::croak($error);</td></tr>
<tr><td class="h">549</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">550</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L550">6</a></div></td><td><div>27</div><div>9</div><div>883</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no strict &#39;refs&#39;;</td></tr>
<tr><td class="h">551</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Note: export_to_level would be better here.</td></tr>
<tr><td class="h">552</td><td><div class="c3">24</div><div class="c3">372</div><div class="c3">24</div></td><td></td><td></td><td></td><td><div>14</div><div>250</div><div>36</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @EXPORT =&gt; grep { !$exclude_symbol{$_} } @{&quot;${module}::EXPORT&quot;};</td></tr>
<tr><td class="h">553</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">554</td><td colspan="6"></td></tr><tr><td class="h">555</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# &#39;magic&#39; goto to avoid updating the callstack</td></tr>
<tr><td class="h">556</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;goto &amp;Test::Builder::Module::import;</td></tr>
<tr><td class="h">557</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">558</td><td colspan="6"></td></tr><tr><td class="h">559</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub explain {</td></tr>
<tr><td class="h">560</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L560">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_explain(\&amp;Test::More::note, @_);</td></tr>
<tr><td class="h">561</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">562</td><td colspan="6"></td></tr><tr><td class="h">563</td><td colspan="6"></td></tr><tr><td class="h">564</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub timeit(&amp;;$) {</td></tr>
<tr><td class="h">565</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L565">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $code, $message ) = @_;</td></tr>
<tr><td class="h">566</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L566">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless($HAVE_TIME_HIRES) {</td></tr>
<tr><td class="h">567</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test::Most::diag(&quot;timeit: Time::HiRes not installed&quot;);</td></tr>
<tr><td class="h">568</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code-&gt;();</td></tr>
<tr><td class="h">569</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">570</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L570">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( !$message ) {</td></tr>
<tr><td class="h">571</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ( $package, $filename, $line ) = caller;</td></tr>
<tr><td class="h">572</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$message = &quot;$filename line $line&quot;;</td></tr>
<tr><td class="h">573</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">574</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $start = [Time::HiRes::gettimeofday()];</td></tr>
<tr><td class="h">575</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$code-&gt;();</td></tr>
<tr><td class="h">576</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;explain(</td></tr>
<tr><td class="h">577</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf &quot;$message: took %s seconds&quot; =&gt; Time::HiRes::tv_interval($start) );</td></tr>
<tr><td class="h">578</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">579</td><td colspan="6"></td></tr><tr><td class="h">580</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub always_explain {</td></tr>
<tr><td class="h">581</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L581">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_explain(\&amp;Test::More::diag, @_);</td></tr>
<tr><td class="h">582</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">583</td><td colspan="6"></td></tr><tr><td class="h">584</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _explain {</td></tr>
<tr><td class="h">585</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L585">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $diag = shift;</td></tr>
<tr><td class="h">586</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L586">6</a></div></td><td><div>15</div><div>7</div><div>517</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;no warnings &#39;once&#39;;</td></tr>
<tr><td class="h">587</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$diag-&gt;(</td></tr>
<tr><td class="h">588</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map {</td></tr>
<tr><td class="h">589</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ref $_</td></tr>
<tr><td class="h">590</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L590">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? do {</td></tr>
<tr><td class="h">591</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require Data::Dumper;</td></tr>
<tr><td class="h">592</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $Data::Dumper::Indent&nbsp;&nbsp;&nbsp;= 1;</td></tr>
<tr><td class="h">593</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $Data::Dumper::Sortkeys = 1;</td></tr>
<tr><td class="h">594</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $Data::Dumper::Terse&nbsp;&nbsp;&nbsp;&nbsp;= 1;</td></tr>
<tr><td class="h">595</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data::Dumper::Dumper($_);</td></tr>
<tr><td class="h">596</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $_</td></tr>
<tr><td class="h">598</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} @_</td></tr>
<tr><td class="h">599</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">600</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">601</td><td colspan="6"></td></tr><tr><td class="h">602</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub show {</td></tr>
<tr><td class="h">603</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L603">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_show(\&amp;Test::More::note, @_);</td></tr>
<tr><td class="h">604</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">605</td><td colspan="6"></td></tr><tr><td class="h">606</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub always_show {</td></tr>
<tr><td class="h">607</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L607">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;_show(\&amp;Test::More::diag, @_);</td></tr>
<tr><td class="h">608</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">609</td><td colspan="6"></td></tr><tr><td class="h">610</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _show {</td></tr>
<tr><td class="h">611</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L611">0</a></div></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L611">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ( $DATA_DUMPER_NAMES_INSTALLED ) {</td></tr>
<tr><td class="h">612</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require Carp;</td></tr>
<tr><td class="h">613</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::carp(&quot;Data::Dumper::Names 0.03 not found.&nbsp;&nbsp;Use explain() instead of show()&quot;);</td></tr>
<tr><td class="h">614</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto &amp;_explain;</td></tr>
<tr><td class="h">615</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">616</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $diag = shift;</td></tr>
<tr><td class="h">617</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L617">6</a></div></td><td><div>13</div><div>5</div><div>399</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;no warnings &#39;once&#39;;</td></tr>
<tr><td class="h">618</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local $Data::Dumper::Indent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1;</td></tr>
<tr><td class="h">619</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local $Data::Dumper::Sortkeys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1;</td></tr>
<tr><td class="h">620</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local $Data::Dumper::Names::UpLevel = $Data::Dumper::Names::UpLevel + 2;</td></tr>
<tr><td class="h">621</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$diag-&gt;(Data::Dumper::Names::Dumper(@_));</td></tr>
<tr><td class="h">622</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">623</td><td colspan="6"></td></tr><tr><td class="h">624</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub die_on_fail {</td></tr>
<tr><td class="h">625</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L625">0</a></div><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L625">0</a></div></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;set_failure_handler( sub { throw_failure } );</td></tr>
<tr><td class="h">626</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">627</td><td colspan="6"></td></tr><tr><td class="h">628</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub bail_on_fail {</td></tr>
<tr><td class="h">629</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;set_failure_handler(</td></tr>
<tr><td class="h">630</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L630">0</a></div><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L630">0</a></div></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub { Test::More::BAIL_OUT(&quot;Test failed.&nbsp;&nbsp;BAIL OUT!.\n&quot;) } );</td></tr>
<tr><td class="h">631</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">632</td><td colspan="6"></td></tr><tr><td class="h">633</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub restore_fail {</td></tr>
<tr><td class="h">634</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L634">6</a></div></td><td><div>13</div><div>3</div><div>285</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;no warnings &#39;redefine&#39;;</td></tr>
<tr><td class="h">635</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L635">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;*Test::Builder::ok = $OK_FUNC;</td></tr>
<tr><td class="h">636</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">637</td><td colspan="6"></td></tr><tr><td class="h">638</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub all_done {</td></tr>
<tr><td class="h">639</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L639">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;my $builder = Test::Builder-&gt;new;</td></tr>
<tr><td class="h">640</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L640">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;if ($builder-&gt;{TEST_MOST_deferred_plan}) {</td></tr>
<tr><td class="h">641</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{TEST_MOST_all_done} = 1;</td></tr>
<tr><td class="h">642</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L642">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;expected_tests(@_ ? $_[0] : $builder-&gt;current_test);</td></tr>
<tr><td class="h">643</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">644</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">645</td><td colspan="6"></td></tr><tr><td class="h">646</td><td colspan="6"></td></tr><tr><td class="h">647</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub set_failure_handler {</td></tr>
<tr><td class="h">648</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L648">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $action = shift;</td></tr>
<tr><td class="h">649</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L649">6</a></div></td><td><div>14</div><div>5</div><div>385</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;no warnings &#39;redefine&#39;;</td></tr>
<tr><td class="h">650</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;Test::Builder-&gt;new-&gt;{TEST_MOST_failure_action} = $action; # for DESTROY</td></tr>
<tr><td class="h">651</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;*Test::Builder::ok = sub {</td></tr>
<tr><td class="h">652</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L652">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $Test::Builder::Level = $Test::Builder::Level + 1;</td></tr>
<tr><td class="h">653</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $builder = $_[0];</td></tr>
<tr><td class="h">654</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L654">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $builder-&gt;{TEST_MOST_test_failed} ) {</td></tr>
<tr><td class="h">655</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{TEST_MOST_test_failed} = 0;</td></tr>
<tr><td class="h">656</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$action-&gt;($builder);</td></tr>
<tr><td class="h">657</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">658</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{TEST_MOST_test_failed} = 0;</td></tr>
<tr><td class="h">659</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $result = $OK_FUNC-&gt;(@_);</td></tr>
<tr><td class="h">660</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;{TEST_MOST_test_failed} = !( $builder-&gt;summary )[-1];</td></tr>
<tr><td class="h">661</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $result;</td></tr>
<tr><td class="h">662</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">663</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">664</td><td colspan="6"></td></tr><tr><td class="h">665</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">666</td><td><div class="c3">6</div><div class="c3">6</div><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L666">6</a></div></td><td><div>13</div><div>5</div><div>488</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;no warnings &#39;redefine&#39;;</td></tr>
<tr><td class="h">667</td><td colspan="6"></td></tr><tr><td class="h">668</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# we need this because if the failure is on the final test, we won&#39;t have</td></tr>
<tr><td class="h">669</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# a subsequent test triggering the behavior.</td></tr>
<tr><td class="h">670</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;sub Test::Builder::DESTROY {</td></tr>
<tr><td class="h">671</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L671">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $builder = $_[0];</td></tr>
<tr><td class="h">672</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="local-lib-perl5-Test-Most-pm--branch.html#L672">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( $builder-&gt;{TEST_MOST_test_failed} ) {</td></tr>
<tr><td class="h">673</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--condition.html#L673">0</a></div></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L673">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( $builder-&gt;{TEST_MOST_failure_action} || sub {} )-&gt;();</td></tr>
<tr><td class="h">674</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">675</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">676</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">677</td><td colspan="6"></td></tr><tr><td class="h">678</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _deferred_plan_handler {</td></tr>
<tr><td class="h">679</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L679">6</a></div></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;my $builder = Test::Builder-&gt;new;</td></tr>
<tr><td class="h">680</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="local-lib-perl5-Test-Most-pm--branch.html#L680">50</a></div></td><td><div class="c0"><a href="local-lib-perl5-Test-Most-pm--condition.html#L680">33</a></div></td><td></td><td><div>41</div></td><td class="s">&nbsp;&nbsp;&nbsp;if ($builder-&gt;{TEST_MOST_deferred_plan} and !$builder-&gt;{TEST_MOST_all_done})</td></tr>
<tr><td class="h">681</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">682</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$builder-&gt;expected_tests($builder-&gt;current_test + 1);</td></tr>
<tr><td class="h">683</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">684</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">685</td><td colspan="6"></td></tr><tr><td class="h">686</td><td></td><td></td><td></td><td></td><td></td><td class="s"># This should work because the END block defined by Test::Builder should be</td></tr>
<tr><td class="h">687</td><td></td><td></td><td></td><td></td><td></td><td class="s"># guaranteed to be run before t one, since we use&#39;d Test::Builder way up top.</td></tr>
<tr><td class="h">688</td><td></td><td></td><td></td><td></td><td></td><td class="s"># The other two alternatives would be either to replace Test::Builder::_ending</td></tr>
<tr><td class="h">689</td><td></td><td></td><td></td><td></td><td></td><td class="s"># similar to how we did Test::Builder::ok, or to call Test::Builder::no_ending</td></tr>
<tr><td class="h">690</td><td></td><td></td><td></td><td></td><td></td><td class="s"># and basically rewrite _ending in our own image.&nbsp;&nbsp;Neither is very palatable,</td></tr>
<tr><td class="h">691</td><td></td><td></td><td></td><td></td><td></td><td class="s"># considering _ending&#39;s initial underscore.</td></tr>
<tr><td class="h">692</td><td colspan="6"></td></tr><tr><td class="h">693</td><td></td><td></td><td></td><td></td><td></td><td class="s">END {</td></tr>
<tr><td class="h">694</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="local-lib-perl5-Test-Most-pm--subroutine.html#L694">6</a></div></td><td><div>441</div></td><td class="s">&nbsp;&nbsp;&nbsp;_deferred_plan_handler();</td></tr>
<tr><td class="h">695</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">696</td><td colspan="6"></td></tr><tr><td class="h">697</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
<tr><td class="h">698</td><td colspan="6"></td></tr><tr><td class="h">699 - 806</td><td colspan="5"></td><td class="s"><pre>=head1 AUTHOR

Curtis Poe, C&lt;&lt; &lt;ovid at cpan.org&gt; &gt;&gt;

=head1 BUGS

Please report any bugs or feature requests to C&lt;bug-test-extended at
rt.cpan.org&gt;, or through the web interface at
L&lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-Most&gt;.&nbsp;&nbsp;I will be
notified, and then you&#39;ll automatically be notified of progress on your bug as
I make changes.

=head1 SUPPORT

You can find documentation for this module with the perldoc command.

&nbsp;&nbsp;&nbsp;&nbsp;perldoc Test::Most

You can also look for information at:

=over 4

=item * RT: CPAN&#39;s request tracker

L&lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Test-Most&gt;

=item * AnnoCPAN: Annotated CPAN documentation

L&lt;http://annocpan.org/dist/Test-Most&gt;

=item * CPAN Ratings

L&lt;http://cpanratings.perl.org/d/Test-Most&gt;

=item * Search CPAN

L&lt;http://search.cpan.org/dist/Test-Most&gt;

=back

=head1 TODO

=head2 Deferred plans

Sometimes you don&#39;t know the number of tests you will run when you use
C&lt;Test::More&gt;.&nbsp;&nbsp;The C&lt;plan()&gt; function allows you to delay specifying the
plan, but you must still call it before the tests are run.&nbsp;&nbsp;This is an error:

 use Test::More;

 my $tests = 0;
 foreach my $test (
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $count = run($test); # assumes tests are being run
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tests += $count;
 }
 plan($tests);

The way around this is typically to use &#39;no_plan&#39; and when the tests are done,
C&lt;Test::Builder&gt; merely sets the plan to the number of tests run.&nbsp;&nbsp;We&#39;d like
for the programmer to specify this number instead of letting C&lt;Test::Builder&gt;
do it.&nbsp;&nbsp;However, C&lt;Test::Builder&gt; internals are a bit difficult to work with,
so we&#39;re delaying this feature.

=head2 Cleaner skip()

 if ( $some_condition ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skip $message, $num_tests;
 }
 else {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# run those tests
 }

That would be cleaner and I might add it if enough people want it.

=head1 CAVEATS

Because of how Perl handles arguments, and because diagnostics are not really
part of the Test Anything Protocol, what actually happens internally is that
we note that a test has failed and we throw an exception or bail out as soon
as the I&lt;next&gt; test is called (but before it runs).&nbsp;&nbsp;This means that its
arguments are automatically evaluated before we can take action:

 use Test::Most qw&lt;no_plan die&gt;;

 ok $foo, &#39;Die if this fails&#39;;
 ok factorial(123456),
&nbsp;&nbsp;&nbsp;&#39;... but wait a loooong time before you throw an exception&#39;;

=head1 ACKNOWLEDGEMENTS

Many thanks to C&lt;perl-qa&gt; for arguing about this so much that I just went
ahead and did it :)

Thanks to Aristotle for suggesting a better way to die or bailout.

Thanks to &#39;swillert&#39; (L&lt;http://use.perl.org/~swillert/&gt;) for suggesting a
better implementation of my &quot;dumper explain&quot; idea
(L&lt;http://use.perl.org/~Ovid/journal/37004&gt;).

=head1 COPYRIGHT &amp; LICENSE

Copyright 2008 Curtis Poe, all rights reserved.

This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.


=cut</pre></td></tr>
<tr><td class="h">807</td><td colspan="6"></td></tr><tr><td class="h">808</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
